Command: python3 -m kernprof -l -v profiling_results/phase3/profile_agent_act.py
Duration: 17.14s
Exit Code: 0

=== STDOUT ===
2025-10-02 04:07:04 [info     ] action_mapping_initialized     action_count=7 available_actions=['defend', 'attack', 'gather', 'share', 'move', 'reproduce', 'pass']
2025-10-02 04:07:04 [info     ] resources_initializing         amount=100 distribution_type=random
2025-10-02 04:07:04 [info     ] Successfully initialized 100 resources
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_a50861755e algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_a50861755e with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_9618ac0c84 algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_9618ac0c84 with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_d8d8e1f7cd algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_d8d8e1f7cd with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_211aea9a6f algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_211aea9a6f with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_22531531c0 algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_22531531c0 with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_85da439342 algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_85da439342 with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_9506a91c22 algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_9506a91c22 with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_7ad6b2306b algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_7ad6b2306b with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_149c55292d algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_149c55292d with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] Initialized DQN policy with Tianshou
2025-10-02 04:07:10 [info     ] algorithm_initialized          agent_id=agent_876fcebdf7 algorithm=dqn
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_876fcebdf7 with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
Executing agent actions for profiling...
2025-10-02 04:07:10 [debug    ] Agent agent_a50861755e gathered 10.0 resources from 3.98 units away
2025-10-02 04:07:10 [debug    ] Agent agent_a50861755e successfully executed gather
2025-10-02 04:07:10 [debug    ] Agent agent_9618ac0c84 chose to pass this turn
2025-10-02 04:07:10 [debug    ] Agent agent_9618ac0c84 successfully executed pass
2025-10-02 04:07:10 [debug    ] Agent agent_d8d8e1f7cd found no valid targets within range 30
2025-10-02 04:07:10 [info     ] Agent agent_d8d8e1f7cd failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:10 [debug    ] Agent agent_211aea9a6f chose not to reproduce this turn (roll: 0.921 >= chance: 0.5)
2025-10-02 04:07:10 [info     ] Agent agent_211aea9a6f failed to execute reproduce: Reproduction chance not met (roll: 0.921 >= chance: 0.5)
2025-10-02 04:07:10 [debug    ] Agent agent_22531531c0 moved from (54.0, 50.0) to (53.0, 50.0)
2025-10-02 04:07:10 [debug    ] Agent agent_22531531c0 successfully executed move
2025-10-02 04:07:10 [info     ] using_cpu                      reason=cuda_not_available
2025-10-02 04:07:10 [error    ] Failed to initialize DQN policy: Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]
2025-10-02 04:07:10 [error    ] algorithm_initialization_failed agent_id=agent_6ac33ea39c algorithm=dqn error_message='Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]' error_type=RuntimeError
2025-10-02 04:07:10 [info     ] using_fallback_algorithm       agent_id=agent_6ac33ea39c
2025-10-02 04:07:10 [info     ] Initialized DecisionModule for agent agent_6ac33ea39c with dqn
2025-10-02 04:07:10 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:10 [info     ] offspring_created              agent_type=BaseAgent generation=1 offspring_id=agent_6ac33ea39c parent_id=agent_85da439342 position=(55.0, 50.0) step=0
2025-10-02 04:07:10 [info     ] Agent agent_85da439342 reproduced at (55.0, 50.0) during step 0 creating agent agent_6ac33ea39c
2025-10-02 04:07:10 [debug    ] Agent agent_85da439342 successfully reproduced
2025-10-02 04:07:10 [warning  ] Action validation failed for reproduce on agent agent_85da439342: Issues: ['Resource mismatch: expected 44.85, got 46.85']
2025-10-02 04:07:10 [debug    ] Agent agent_85da439342 successfully executed reproduce
2025-10-02 04:07:10 [debug    ] Agent agent_9506a91c22 moved from (56.0, 50.0) to (56.0, 51.0)
2025-10-02 04:07:10 [debug    ] Agent agent_9506a91c22 successfully executed move
2025-10-02 04:07:10 [debug    ] Agent agent_7ad6b2306b found no valid targets within range 30
2025-10-02 04:07:10 [info     ] Agent agent_7ad6b2306b failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:10 [debug    ] Agent agent_149c55292d chose to pass this turn
2025-10-02 04:07:10 [debug    ] Agent agent_149c55292d successfully executed pass
2025-10-02 04:07:10 [debug    ] Agent agent_876fcebdf7 moved from (59.0, 50.0) to (59.0, 51.0)
2025-10-02 04:07:10 [debug    ] Agent agent_876fcebdf7 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_a50861755e failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_9618ac0c84 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_d8d8e1f7cd failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f gathered 10.0 resources from 4.17 units away
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 moved from (53.0, 50.0) to (54.0, 50.0)
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_9506a91c22 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_7ad6b2306b failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_149c55292d failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [error    ] Failed to initialize DQN policy: Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]
2025-10-02 04:07:11 [error    ] algorithm_initialization_failed agent_id=agent_ff8d2eeb99 algorithm=dqn error_message='Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]' error_type=RuntimeError
2025-10-02 04:07:11 [info     ] using_fallback_algorithm       agent_id=agent_ff8d2eeb99
2025-10-02 04:07:11 [info     ] Initialized DecisionModule for agent agent_ff8d2eeb99 with dqn
2025-10-02 04:07:11 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:11 [info     ] offspring_created              agent_type=BaseAgent generation=1 offspring_id=agent_ff8d2eeb99 parent_id=agent_876fcebdf7 position=(59.0, 51.0) step=1
2025-10-02 04:07:11 [info     ] Agent agent_876fcebdf7 reproduced at (59.0, 51.0) during step 1 creating agent agent_ff8d2eeb99
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 successfully reproduced
2025-10-02 04:07:11 [warning  ] Action validation failed for reproduce on agent agent_876fcebdf7: Issues: ['Resource mismatch: expected 44.7, got 46.7']
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 successfully executed reproduce
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c has insufficient resources (4.85 < 13) for reproduce
2025-10-02 04:07:11 [info     ] Agent agent_6ac33ea39c failed to execute reproduce: Insufficient resources for reproduction (need 13, have 4.85)
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 moved from (51.0, 50.0) to (51.0, 49.0)
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_211aea9a6f failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_85da439342 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [error    ] Failed to initialize DQN policy: Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]
2025-10-02 04:07:11 [error    ] algorithm_initialization_failed agent_id=agent_315a8538c6 algorithm=dqn error_message='Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]' error_type=RuntimeError
2025-10-02 04:07:11 [info     ] using_fallback_algorithm       agent_id=agent_315a8538c6
2025-10-02 04:07:11 [info     ] Initialized DecisionModule for agent agent_315a8538c6 with dqn
2025-10-02 04:07:11 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:11 [info     ] offspring_created              agent_type=BaseAgent generation=1 offspring_id=agent_315a8538c6 parent_id=agent_9506a91c22 position=(56.0, 51.0) step=2
2025-10-02 04:07:11 [info     ] Agent agent_9506a91c22 reproduced at (56.0, 51.0) during step 2 creating agent agent_315a8538c6
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 successfully reproduced
2025-10-02 04:07:11 [warning  ] Action validation failed for reproduce on agent agent_9506a91c22: Issues: ['Resource mismatch: expected 44.550000000000004, got 46.550000000000004']
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 successfully executed reproduce
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d moved from (58.0, 50.0) to (58.0, 51.0)
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 gathered 10.0 resources from 7.40 units away
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c has insufficient resources (4.699999999999999 < 13) for reproduce
2025-10-02 04:07:11 [info     ] Agent agent_6ac33ea39c failed to execute reproduce: Insufficient resources for reproduction (need 13, have 4.699999999999999)
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 moved from (59.0, 51.0) to (59.0, 52.0)
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_a50861755e failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 gathered 10.0 resources from 2.79 units away
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f gathered 10.0 resources from 8.06 units away
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_22531531c0 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 gathered 10.0 resources from 8.14 units away
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 moved from (56.0, 51.0) to (56.0, 52.0)
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b moved from (57.0, 50.0) to (57.0, 51.0)
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d gathered 10.0 resources from 7.52 units away
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_6ac33ea39c failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e chose not to reproduce this turn (roll: 0.647 >= chance: 0.5)
2025-10-02 04:07:11 [info     ] Agent agent_a50861755e failed to execute reproduce: Reproduction chance not met (roll: 0.647 >= chance: 0.5)
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 chose not to reproduce this turn (roll: 0.709 >= chance: 0.5)
2025-10-02 04:07:11 [info     ] Agent agent_9618ac0c84 failed to execute reproduce: Reproduction chance not met (roll: 0.709 >= chance: 0.5)
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_d8d8e1f7cd failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f chose not to reproduce this turn (roll: 0.971 >= chance: 0.5)
2025-10-02 04:07:11 [info     ] Agent agent_211aea9a6f failed to execute reproduce: Reproduction chance not met (roll: 0.971 >= chance: 0.5)
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 moved from (54.0, 50.0) to (53.0, 50.0)
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_9506a91c22 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b gathered 10.0 resources from 7.78 units away
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d gathered 10.0 resources from 10.00 units away
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_876fcebdf7 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c has insufficient resources (4.399999999999999 < 13) for reproduce
2025-10-02 04:07:11 [info     ] Agent agent_6ac33ea39c failed to execute reproduce: Insufficient resources for reproduction (need 13, have 4.399999999999999)
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 moved from (59.0, 52.0) to (59.0, 51.0)
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 moved from (56.0, 51.0) to (55.0, 51.0)
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_a50861755e failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_9618ac0c84 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f gathered 10.0 resources from 12.01 units away
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 gathered 10.0 resources from 12.50 units away
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 gathered 10.0 resources from 11.36 units away
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_7ad6b2306b failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d gathered 10.0 resources from 11.66 units away
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 has insufficient resources (4.399999999999999 < 13) for reproduce
2025-10-02 04:07:11 [info     ] Agent agent_ff8d2eeb99 failed to execute reproduce: Insufficient resources for reproduction (need 13, have 4.399999999999999)
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_315a8538c6 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Resource update: 1 resources regenerated
2025-10-02 04:07:11 [error    ] Failed to initialize DQN policy: Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]
2025-10-02 04:07:11 [error    ] algorithm_initialization_failed agent_id=agent_8f4d307d77 algorithm=dqn error_message='Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]' error_type=RuntimeError
2025-10-02 04:07:11 [info     ] using_fallback_algorithm       agent_id=agent_8f4d307d77
2025-10-02 04:07:11 [info     ] Initialized DecisionModule for agent agent_8f4d307d77 with dqn
2025-10-02 04:07:11 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:11 [info     ] offspring_created              agent_type=BaseAgent generation=1 offspring_id=agent_8f4d307d77 parent_id=agent_a50861755e position=(50.0, 50.0) step=6
2025-10-02 04:07:11 [info     ] Agent agent_a50861755e reproduced at (50.0, 50.0) during step 6 creating agent agent_8f4d307d77
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e successfully reproduced
2025-10-02 04:07:11 [warning  ] Action validation failed for reproduce on agent agent_a50861755e: Issues: ['Resource mismatch: expected 53.95000000000001, got 55.95000000000001']
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e successfully executed reproduce
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_9618ac0c84 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd moved from (52.0, 50.0) to (52.0, 49.0)
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_211aea9a6f failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_22531531c0 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 moved from (56.0, 52.0) to (55.0, 52.0)
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b moved from (57.0, 51.0) to (56.0, 51.0)
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d gathered 2.0 resources from 8.29 units away
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 chose not to reproduce this turn (roll: 0.820 >= chance: 0.5)
2025-10-02 04:07:11 [info     ] Agent agent_876fcebdf7 failed to execute reproduce: Reproduction chance not met (roll: 0.820 >= chance: 0.5)
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c moved from (55.0, 50.0) to (56.0, 50.0)
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 gathered 10.0 resources from 11.47 units away
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_315a8538c6 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd chose not to reproduce this turn (roll: 0.602 >= chance: 0.5)
2025-10-02 04:07:11 [info     ] Agent agent_d8d8e1f7cd failed to execute reproduce: Reproduction chance not met (roll: 0.602 >= chance: 0.5)
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f gathered 10.0 resources from 12.01 units away
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f successfully executed gather
2025-10-02 04:07:11 [error    ] Failed to initialize DQN policy: Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]
2025-10-02 04:07:11 [error    ] algorithm_initialization_failed agent_id=agent_7445121d22 algorithm=dqn error_message='Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]' error_type=RuntimeError
2025-10-02 04:07:11 [info     ] using_fallback_algorithm       agent_id=agent_7445121d22
2025-10-02 04:07:11 [info     ] Initialized DecisionModule for agent agent_7445121d22 with dqn
2025-10-02 04:07:11 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:11 [info     ] offspring_created              agent_type=BaseAgent generation=1 offspring_id=agent_7445121d22 parent_id=agent_22531531c0 position=(53.0, 50.0) step=7
2025-10-02 04:07:11 [info     ] Agent agent_22531531c0 reproduced at (53.0, 50.0) during step 7 creating agent agent_7445121d22
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 successfully reproduced
2025-10-02 04:07:11 [warning  ] Action validation failed for reproduce on agent agent_22531531c0: Issues: ['Resource mismatch: expected 43.80000000000001, got 45.80000000000001']
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 successfully executed reproduce
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_85da439342 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 moved from (55.0, 52.0) to (56.0, 52.0)
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b moved from (56.0, 51.0) to (57.0, 51.0)
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b successfully executed move
2025-10-02 04:07:11 [error    ] Failed to initialize DQN policy: Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]
2025-10-02 04:07:11 [error    ] algorithm_initialization_failed agent_id=agent_a3c7d79ba1 algorithm=dqn error_message='Expected 3D (unbatched) or 4D (batched) input to conv2d, but got input of size: [1, 8]' error_type=RuntimeError
2025-10-02 04:07:11 [info     ] using_fallback_algorithm       agent_id=agent_a3c7d79ba1
2025-10-02 04:07:11 [info     ] Initialized DecisionModule for agent agent_a3c7d79ba1 with dqn
2025-10-02 04:07:11 [debug    ] Inserting 1 agents into database
2025-10-02 04:07:11 [info     ] offspring_created              agent_type=BaseAgent generation=1 offspring_id=agent_a3c7d79ba1 parent_id=agent_149c55292d position=(58.0, 51.0) step=7
2025-10-02 04:07:11 [info     ] Agent agent_149c55292d reproduced at (58.0, 51.0) during step 7 creating agent agent_a3c7d79ba1
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully reproduced
2025-10-02 04:07:11 [warning  ] Action validation failed for reproduce on agent agent_149c55292d: Issues: ['Resource mismatch: expected 75.79999999999998, got 77.79999999999998']
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully executed reproduce
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 moved from (59.0, 51.0) to (59.0, 52.0)
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_6ac33ea39c failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_8f4d307d77 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_8f4d307d77 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_a50861755e failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd gathered 10.0 resources from 16.88 units away
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f moved from (53.0, 50.0) to (54.0, 50.0)
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 gathered 10.0 resources from 14.60 units away
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_9506a91c22 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_9506a91c22 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_7ad6b2306b found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_7ad6b2306b failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d gathered 10.0 resources from 12.70 units away
2025-10-02 04:07:11 [debug    ] Agent agent_149c55292d successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 gathered 10.0 resources from 14.17 units away
2025-10-02 04:07:11 [debug    ] Agent agent_876fcebdf7 successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:11 [debug    ] Agent agent_6ac33ea39c successfully executed defend
2025-10-02 04:07:11 [debug    ] Agent agent_ff8d2eeb99 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_ff8d2eeb99 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_315a8538c6 has insufficient resources (4.099999999999998 < 13) for reproduce
2025-10-02 04:07:11 [info     ] Agent agent_315a8538c6 failed to execute reproduce: Insufficient resources for reproduction (need 13, have 4.099999999999998)
2025-10-02 04:07:11 [debug    ] Agent agent_8f4d307d77 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_8f4d307d77 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_7445121d22 chose to pass this turn
2025-10-02 04:07:11 [debug    ] Agent agent_7445121d22 successfully executed pass
2025-10-02 04:07:11 [debug    ] Agent agent_a3c7d79ba1 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_a3c7d79ba1 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Resource update: 2 resources regenerated
2025-10-02 04:07:11 [debug    ] Agent agent_a50861755e found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_a50861755e failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_9618ac0c84 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_9618ac0c84 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd gathered 2.0 resources from 11.97 units away
2025-10-02 04:07:11 [debug    ] Agent agent_d8d8e1f7cd successfully executed gather
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f moved from (54.0, 50.0) to (54.0, 51.0)
2025-10-02 04:07:11 [debug    ] Agent agent_211aea9a6f successfully executed move
2025-10-02 04:07:11 [debug    ] Agent agent_22531531c0 found no valid targets within range 30
2025-10-02 04:07:11 [info     ] Agent agent_22531531c0 failed to execute share: No valid targets found within sharing range
2025-10-02 04:07:11 [debug    ] Agent agent_85da439342 found no valid targets within range 20.0
2025-10-02 04:07:11 [info     ] Agent agent_85da439342 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:12 [debug    ] Agent agent_9506a91c22 gathered 10.0 resources from 15.91 units away
2025-10-02 04:07:12 [debug    ] Agent agent_9506a91c22 successfully executed gather
2025-10-02 04:07:12 [debug    ] Agent agent_7ad6b2306b chose to pass this turn
2025-10-02 04:07:12 [debug    ] Agent agent_7ad6b2306b successfully executed pass
2025-10-02 04:07:12 [debug    ] Agent agent_149c55292d moved from (58.0, 51.0) to (59.0, 51.0)
2025-10-02 04:07:12 [debug    ] Agent agent_149c55292d successfully executed move
2025-10-02 04:07:12 [debug    ] Agent agent_876fcebdf7 chose not to reproduce this turn (roll: 0.849 >= chance: 0.5)
2025-10-02 04:07:12 [info     ] Agent agent_876fcebdf7 failed to execute reproduce: Reproduction chance not met (roll: 0.849 >= chance: 0.5)
2025-10-02 04:07:12 [debug    ] Agent agent_6ac33ea39c chose to pass this turn
2025-10-02 04:07:12 [debug    ] Agent agent_6ac33ea39c successfully executed pass
2025-10-02 04:07:12 [debug    ] Agent agent_ff8d2eeb99 found no valid targets within range 20.0
2025-10-02 04:07:12 [info     ] Agent agent_ff8d2eeb99 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:12 [debug    ] Agent agent_315a8538c6 entered defensive stance for 3 turns (cost: 0, healing: 0)
2025-10-02 04:07:12 [debug    ] Agent agent_315a8538c6 successfully executed defend
2025-10-02 04:07:12 [debug    ] Agent agent_8f4d307d77 found no valid targets within range 20.0
2025-10-02 04:07:12 [info     ] Agent agent_8f4d307d77 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:12 [debug    ] Agent agent_7445121d22 found no valid targets within range 20.0
2025-10-02 04:07:12 [info     ] Agent agent_7445121d22 failed to execute attack: No valid targets found within attack range
2025-10-02 04:07:12 [debug    ] Agent agent_a3c7d79ba1 gathered 10.0 resources from 13.89 units away
2025-10-02 04:07:12 [debug    ] Agent agent_a3c7d79ba1 successfully executed gather
2025-10-02 04:07:12 [debug    ] Resource update: 1 resources regenerated
2025-10-02 04:07:12 [debug    ] Database engine disposed
Profiling complete!
Wrote profile results to 'profile_agent_act.py.lprof'
Timer unit: 1e-06 s

Total time: 1.21573 s
File: profiling_results/phase3/profile_agent_act.py
Function: profiled_act at line 20

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    20                                           @profile
    21                                           def profiled_act(self):
    22       131    1215728.8   9280.4    100.0      return original_act(self)

2025-10-02 04:07:12 [debug    ] Database engine disposed

=== STDERR ===
Gym has been unmaintained since 2022 and does not support NumPy 2.0 amongst other critical functionality.
Please upgrade to Gymnasium, the maintained drop-in replacement of Gym, or contact the authors of your software and request that they upgrade.
Users of this version of Gym should be able to simply replace 'import gym' with 'import gymnasium as gym' in the vast majority of cases.
See the migration guide at https://gymnasium.farama.org/introduction/migration_guide/ for additional information.
/home/ubuntu/.local/lib/python3.13/site-packages/tianshou/policy/modelfree/dqn.py:158: UserWarning: Using a non-tuple sequence for multidimensional indexing is deprecated and will be changed in pytorch 2.9; use x[tuple(seq)] instead of x[seq]. In pytorch 2.9 this will be interpreted as tensor index, x[torch.tensor(seq)], which will result either in an error or a different result (Triggered internally at /pytorch/torch/csrc/autograd/python_variable_indexing.cpp:306.)
  obs = batch[input]
